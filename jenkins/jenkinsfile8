pipeline {
    agent any
    triggers {
        cron('H/3 * * * *')  // Run every 3 minutes
    }
    stages {
        stage('Build') {
            steps {
                echo "ğŸ”¨ Building the project..."
                // Example: compile or package
                sh 'echo Simulating build step'
            }
        }

        stage('Unit Tests') {
            steps {
                echo "ğŸ§ª Running unit tests..."
                // Example: pytest, JUnit, Maven test
                sh 'echo Simulating unit tests'
            }
        }

        stage('Static Analysis') {
            steps {
                echo "ğŸ” Running static code analysis..."
                // Example: linting, SonarQube, style checks
                sh 'echo Simulating static analysis'
            }
        }

        stage('Package') {
            steps {
                echo "ğŸ“¦ Packaging the application..."
                // Example: build a JAR, Docker image, zip, etc.
                sh 'echo Simulating packaging step'
            }
        }

        stage('Deploy') {
            steps {
                echo "ğŸš€ Deploying to staging environment..."
                // Example: deploy to test server or container
                sh 'echo Simulating deployment step'
            }
        }
    }
    post {
        always {
            echo "âœ… Pipeline finished (success or failure)."
        }
        success {
            echo "ğŸ‰ Build succeeded!"
        }
        failure {
            echo "âŒ Build failed!"
        }
    }
}
